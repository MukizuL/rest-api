CREATE TABLE IF NOT EXISTS projects (
	id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
	name VARCHAR(255) NOT NULL,
	createdAT TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
);

CREATE TYPE Status AS ENUM ('TODO', 'IN_PROGRESS', 'IN_TESTING', 'DONE');
CREATE TABLE IF NOT EXISTS tasks (
		id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
		name VARCHAR(255) NOT NULL,
		status Status NOT NULL DEFAULT 'TODO',
		projectID INT NOT NULL,
		assignedToID INT NOT NULL,
		createdAT TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP,

		FOREIGN KEY (assignedToID) REFERENCES users(id),
		FOREIGN KEY (projectId) REFERENCES projects(id)
		);

CREATE TABLE IF NOT EXISTS users (
		id INT PRIMARY KEY GENERATED BY DEFAULT AS IDENTITY,
		email VARCHAR(255) NOT NULL UNIQUE,
		firstName VARCHAR(255) NOT NULL,
		lastName VARCHAR(255) NOT NULL,
		password VARCHAR(255) NOT NULL,
		createdAT TIMESTAMP NOT NULL DEFAULT CURRENT_TIMESTAMP
		)